import { router } from '@kit.ArkUI';
import { TopNavigationBar } from '../../components/TopNavigationBar';

@Entry
@Component
export struct PlaceDetailPage {
  @State placeId: string = '';
  @State placeName: string = 'æ·±åœ³æ¹¾å…¬å›­';
  @State rating: number = 4.8;
  @State reviewCount: number = 1256;
  @State location: string = 'å—å±±åŒºæ·±åœ³æ¹¾';
  @State openTime: string = 'å…¨å¤©å¼€æ”¾';
  @State ticketPrice: string = 'å…è´¹';
  @State description: string = 'æ·±åœ³æ¹¾å…¬å›­æ˜¯æ·±åœ³å¸‚æœ€ç¾çš„æµ·æ»¨å…¬å›­ä¹‹ä¸€ï¼Œæ‹¥æœ‰13å…¬é‡Œçš„æµ·æ»¨æ ˆé“ã€‚';
  @State tags: string[] = ['å…¬å›­', 'æµ·æ™¯', 'å…è´¹', 'é€‚åˆæ•£æ­¥'];
  @State isFavorite: boolean = false;

  aboutToAppear() {
    const params = router.getParams() as Record<string, string>;
    if (params && params.id) {
      this.placeId = params.id;
    }
  }

  build() {
    Column() {
      TopNavigationBar({ title: 'åœ°ç‚¹è¯¦æƒ…', showBack: true })

      Scroll() {
        Column() {
          Text('ğŸï¸').fontSize(80).margin(20)
          
          Text(this.placeName)
            .fontSize(24)
            .fontWeight(FontWeight.Bold)
            .margin({ bottom: 16 })

          Row({ space: 8 }) {
            Text(`â­ ${this.rating}`)
            Text(`(${this.reviewCount}æ¡è¯„ä»·)`)
              .fontSize(14)
              .fontColor('#6b7280')
          }
          .margin({ bottom: 16 })

          Column() {
            Row() {
              Text('ğŸ“ ä½ç½®ï¼š').fontColor('#6b7280')
              Text(this.location)
            }.width('100%').margin({ bottom: 8 })

            Row() {
              Text('â° å¼€æ”¾æ—¶é—´ï¼š').fontColor('#6b7280')
              Text(this.openTime)
            }.width('100%').margin({ bottom: 8 })

            Row() {
              Text('ğŸ’° é—¨ç¥¨ï¼š').fontColor('#6b7280')
              Text(this.ticketPrice).fontColor('#10b981')
            }.width('100%')
          }
          .width('90%')
          .padding(16)
          .backgroundColor(Color.White)
          .borderRadius(12)
          .margin({ bottom: 16 })

          Text(this.description)
            .fontSize(14)
            .lineHeight(22)
            .width('90%')
            .padding(16)
            .backgroundColor(Color.White)
            .borderRadius(12)
        }
        .width('100%')
      }
      .layoutWeight(1)
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#f8fafc')
  }
}
